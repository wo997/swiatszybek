/* css[piep_cms] */

.piep_editor_float_focuses {
	position: absolute;
	left: 0;
	right: 0;
	top: 0;
	bottom: 0;
	pointer-events: none;
}

.piep_editor_float_focuses .focus_rect,
.piep_editor_parent_float_focus {
	position: absolute;
	// border: 2px solid var(--clr_primary);
	// box-shadow: 0 1px 4px 0 #0007, inset 0 1px 4px 0 #0007;
	pointer-events: none;
	margin-right: -10000px;
	margin-bottom: -10000px;
	// border-radius: 4px;
}

.piep_editor_float_focus .focus_rect {
	box-shadow: 0 0 10px 0 #0002;
}

.piep_editor {
	// &::before,
	// &::after {
	// 	content: "";
	// 	background: #eee;
	// 	position: absolute;
	// 	left: -20px;
	// 	right: -20px;
	// 	height: 20px;
	// 	z-index: 2000;
	// }
	// &::before {
	// 	top: 0;
	// }
	// &::after {
	// 	bottom: 0;
	// }
	&.grabbed_block {
		cursor: grab;
	}

	.piep_editor_center_column {
		display: flex;
		flex-direction: column;
		grid-area: 2 / 2 / 3 / 3;
		overflow: hidden;
	}
	.piep_editor_content_wrapper {
		overflow: hidden;
		box-shadow: inset 0 1px 5px 0 #0003;
		display: flex;
		flex-direction: column;
		padding: 15px;
		grid-area: 2 / 2 / 3 / 3;
		flex-grow: 1;
	}
	.piep_editor_content_scroll {
		box-shadow: 0 1px 5px 0 #0003;
		margin: auto;
		width: 100%;
	}
	.piep_editor_content {
		& {
			background: #fff;

			display: flex;
			flex-direction: column;
			box-shadow: 0 2px 5px 0 #0002;
			flex-shrink: 0;
			flex-grow: 1;
			grid-area: 2 / 2 / 3 / 3;
			align-items: stretch;
		}
		// TODO: that sucks, maybe a query for p,h1 etc? text can appear only in these
		.textable {
			white-space: pre-wrap;
		}
		// ::selection {
		// 	color: green;
		// 	background: yellow;
		// }
	}

	.piep_editor_cursor {
		position: absolute;
		background: #000;
		pointer-events: none;
		animation: cursor_blink 1s infinite;
		//box-shadow: 0 0 0 1px #7775;
	}

	&.has_insert_pos .insert_blc:not(:hover) {
		opacity: 0.3;
	}

	&.disable_editing {
		& {
			user-select: none;
		}

		.piep_editor_float_menu {
			display: none !important;
		}

		& .piep_editor_inspector {
			display: none !important;
		}
	}

	&.grabbed_block {
		&:not(.has_insert_pos) {
			.piep_editor_content {
				opacity: 0.7;
			}
			.piep_editor_float_focus {
				display: none !important;
			}
		}

		.piep_editor_cursor {
			display: none !important;
		}
	}

	::placeholder {
		color: #aaa;
	}
}

@keyframes cursor_blink {
	0%,
	20%,
	80%,
	100% {
		background: #000;
		//box-shadow: 0 0 1px 1px transparent;
		//box-shadow: 0 0 1px 1px #fff5;
	}
	50% {
		background: #fff;
		//box-shadow: 0 0 1px 1px #fff;
		//box-shadow: 0 0 1px 1px #0005;
	}
}

.piep_editor_alternative_scroll_panel {
	position: absolute;
	left: 0;
	top: 0;
	right: 0;
	z-index: 1500;
}

.blc.nonclickable > * {
	pointer-events: none;
}
